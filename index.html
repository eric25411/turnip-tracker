<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Turnip Tracker</title>
  <link rel="stylesheet" href="style.css?v=18" />
</head>

<body>
  <div class="app">

    <!-- HEADER -->
    <header class="headerCard">
      <img
        src="banner.png.jpg"
        alt="Turnip Tracker"
        class="headerImage"
        onerror="this.style.display='none'; document.getElementById('headerFallback').style.display='block';"
      />
      <div id="headerFallback" class="headerFallback" style="display:none;">
        Turnip Tracker
      </div>
    </header>

    <!-- MAIN -->
    <main class="main contentPad">

      <!-- ENTRY VIEW -->
      <section id="entryView" class="view">

        <!-- Sticky mini buy card -->
        <div class="buySticky">
          <div class="buyMiniCard">
            <div class="buyMiniLeft">
              <div class="buyMiniTitle"><span class="emoji">ğŸ’°</span><span>Buy price</span></div>
              <div class="buyMiniHint">Price you paid from Daisy Mae on Sunday.</div>
            </div>
            <input
              id="buy-price"
              class="buyMiniInput"
              inputmode="numeric"
              placeholder="-"
              aria-label="Buy price"
            />
          </div>
        </div>

        <!-- Day cards -->
        <section class="days">

          <div class="dayCard">
            <h2 class="dayTitle">Monday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="mon-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="mon-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Tuesday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="tue-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="tue-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Wednesday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="wed-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="wed-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Thursday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="thu-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="thu-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Friday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="fri-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="fri-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Saturday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="sat-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="sat-pm" />
            </div>
          </div>

        </section>

        <!-- Save button at bottom -->
        <button id="saveWeekBtn" class="primaryBtn" type="button">Save week to History</button>
      </section>

      <!-- PREDICT VIEW -->
      <section id="predictView" class="view hidden">
        <div class="panelCard">
          <h2 class="panelTitle">Predictor</h2>

          <div class="chartCard">
            <div class="chartBg" aria-hidden="true"></div>
            <canvas id="priceChart" width="600" height="220" aria-label="Price chart"></canvas>
            <div class="chartHint">Left to right, Mon AM to Sat PM</div>
          </div>

          <div class="stats">
            <div class="statRow"><span class="statKey">Buy price</span><span class="statVal" id="statBuy">-</span></div>
            <div class="statRow"><span class="statKey">Best so far this week</span><span class="statVal" id="statBest">-</span></div>
            <div class="statRow"><span class="statKey">Best day time</span><span class="statVal" id="statBestTime">-</span></div>
            <div class="statRow"><span class="statKey">Profit vs buy</span><span class="statVal" id="statProfit">-</span></div>

            <div class="divider"></div>

            <div class="statRow"><span class="statKey">Likely pattern</span><span class="statVal" id="statPattern">-</span></div>
            <div class="statNote" id="statPatternNote">Save more weeks so pattern detection can learn your style.</div>

            <div class="divider"></div>

            <div class="statRow"><span class="statKey">Forecast peak window</span><span class="statVal" id="statWindow">-</span></div>
            <div class="statRow"><span class="statKey">Forecast confidence</span><span class="statVal" id="statConf">-</span></div>
            <div class="statNote" id="statWatch">What to watch next will appear as you enter more prices.</div>
          </div>
        </div>
      </section>

      <!-- HISTORY VIEW -->
      <section id="historyView" class="view hidden">
        <div class="historyWrap">
          <div class="historyCard">
            <h2 class="historyTitle">Past weeks</h2>
            <p class="historyHint">Tap a week to expand. Use Load to edit an old week.</p>
            <div id="historyList" class="historyList"></div>
          </div>

          <div class="historyCard">
            <h3 class="historySubtitle">Import, Export</h3>
            <div class="historyActions">
              <button id="exportBtn" class="chipBtn" type="button">Export</button>
              <label class="chipBtn fileBtn">
                Import
                <input id="importFile" type="file" accept="application/json" />
              </label>
              <button id="goHomeBtn" class="chipBtn" type="button">Home</button>
            </div>

            <p class="historySmall" id="historyEmptyNote">
              No saved weeks yet. Fill the week, then hit Save week.
            </p>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- BOTTOM NAV -->
  <nav class="bottomNav" aria-label="Bottom navigation">
    <button id="navEntry" class="navBtn active" type="button">
      <span class="navIcon">ğŸ§¾</span>
      <span>Entry</span>
    </button>
    <button id="navPredict" class="navBtn" type="button">
      <span class="navIcon">ğŸ”®</span>
      <span>Predict</span>
    </button>
    <button id="navHistory" class="navBtn" type="button">
      <span class="navIcon">ğŸ•°ï¸</span>
      <span>History</span>
    </button>
  </nav>

  <script src="app.js?v=18"></script>
</body>
</html>
