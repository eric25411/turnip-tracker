<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Turnip Tracker</title>

  <link rel="icon" href="icon-1024.png.PNG" />
  <link rel="apple-touch-icon" href="icon-1024.png.PNG" />

  <!-- IMPORTANT: only one stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="app">

    <header class="top">
      <img class="banner" src="banner.png.jpg" alt="Turnip Tracker" />
    </header>

    <main class="main" id="main">

      <!-- ENTRY -->
      <section class="page is-active" id="page-entry" aria-label="Entry page">
        <div class="card buy-card">
          <div class="buy-left">
            <div class="buy-title">
              <span class="emoji">üí∞</span>
              <span>Buy price</span>
            </div>
            <div class="buy-sub">
              <img
                class="isabelle"
                src="isabelle.png.PNG"
                alt="Isabelle"
                onerror="this.style.display='none';"
              />
              <span id="buyDateLabel">Jan 4</span>
            </div>
          </div>

          <div class="buy-right">
            <input
              id="buyPrice"
              class="num-input"
              inputmode="numeric"
              pattern="[0-9]*"
              placeholder="-"
              aria-label="Buy price"
            />
          </div>
        </div>

        <div class="week" id="weekGrid"></div>

        <div class="entry-actions">
          <button class="btn primary" id="saveWeekBtn" type="button">Save week to History</button>
          <div class="hint">Saves your week, then clears Entry.</div>
        </div>
      </section>

      <!-- INSIGHTS -->
      <section class="page" id="page-insights" aria-label="Insights page">
        <div class="card page-title">
          <h1>Insights</h1>
        </div>

        <div class="card postcard" id="postcard">
          <div class="postcard-head">
            <div class="postcard-title">This week‚Äôs bell postcard</div>
            <div class="key">
              <div class="key-row"><span class="sun">‚òÄÔ∏è</span><span>AM</span></div>
              <div class="key-row"><span class="moon">üåô</span><span>PM</span></div>
            </div>
          </div>

          <div class="chart-shell">
            <div class="chart-pattern" id="chartPattern" aria-hidden="true"></div>

            <div class="chart" aria-label="Prediction chart">
              <div class="chart-lines" aria-hidden="true">
                <div class="line l1"></div>
                <div class="line l2"></div>
                <div class="line l3"></div>
              </div>

              <!-- NEW: clean 3-row layout -->
              <div class="chart-grid">
                <div class="markers" id="markers" aria-hidden="true"></div>

                <div class="timeline">
                  <div class="track" aria-hidden="true"></div>
                  <div class="dots" id="dots"></div>
                </div>

                <div class="days" id="dayLabels">
                  <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
                </div>
              </div>
            </div>
          </div>

          <div class="postcard-foot">
            Just a cozy snapshot. The more you log, the smarter it gets.
          </div>
        </div>

        <div class="card stats">
          <div class="stat-row">
            <div class="stat-label">Buy price</div>
            <div class="stat-value" id="statBuy">-</div>
          </div>
          <div class="stat-row">
            <div class="stat-label">Best price seen</div>
            <div class="stat-value" id="statBest">-</div>
          </div>
          <div class="stat-row">
            <div class="stat-label">Best time so far</div>
            <div class="stat-value" id="statBestTime">-</div>
          </div>
          <div class="stat-row">
            <div class="stat-label">Profit vs buy</div>
            <div class="stat-value" id="statProfit">-</div>
          </div>
          <div class="stat-row">
            <div class="stat-label">Likely pattern</div>
            <div class="stat-value" id="statPattern">-</div>
          </div>
        </div>

        <div class="card history">
          <div class="history-head">
            <div class="history-title">History</div>
            <button class="btn ghost" id="clearHistoryBtn" type="button">Clear</button>
          </div>
          <div id="historyList" class="history-list"></div>
          <div id="historyEmpty" class="hint">No saved weeks yet.</div>
        </div>
      </section>

      <!-- SETTINGS -->
      <section class="page" id="page-settings" aria-label="Settings page">
        <div class="card page-title">
          <h1>Settings</h1>
        </div>

        <div class="card settings">
          <div class="setting-row">
            <div class="setting-left">
              <div class="setting-title">Postcard turnip strength</div>
              <div class="setting-sub">Make the pattern easier to see.</div>
            </div>
            <div class="setting-right">
              <input id="patternStrength" type="range" min="0" max="100" value="35" />
            </div>
          </div>

          <div class="divider"></div>

          <div class="setting-row">
            <div class="setting-left">
              <div class="setting-title">Reset this week</div>
              <div class="setting-sub">Clears Entry only.</div>
            </div>
            <div class="setting-right">
              <button class="btn" id="resetWeekBtn" type="button">Reset</button>
            </div>
          </div>
        </div>
      </section>

    </main>

    <nav class="bottom-nav" aria-label="Bottom navigation">
      <button class="nav-btn is-active" id="navEntry" type="button" data-target="entry">
        <div class="nav-ico">üßæ</div>
        <div class="nav-label">Entry</div>
      </button>

      <button class="nav-btn" id="navInsights" type="button" data-target="insights">
        <div class="nav-ico">üîÆ</div>
        <div class="nav-label">Insights</div>
      </button>

      <button class="nav-btn" id="navSettings" type="button" data-target="settings">
        <div class="nav-ico">‚öôÔ∏è</div>
        <div class="nav-label">Settings</div>
      </button>
    </nav>

  </div>

  <script src="app.js"></script>
</body>
</html>
