<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Turnip Tracker</title>

  <link rel="stylesheet" href="style.css?v=30" />
</head>

<body>
  <div class="app">
    <!-- HEADER -->
    <div class="header">
      <img
        src="banner.png.jpg"
        alt="Turnip Tracker"
        class="headerImage"
        onerror="this.style.display='none'; document.getElementById('headerFallback').style.display='block';"
      />
      <div id="headerFallback" style="display:none; font-size:22px; font-weight:700;">
        Turnip Tracker
      </div>
    </div>

    <!-- MAIN -->
    <main id="mainView">

      <!-- ENTRY VIEW -->
      <section id="entryView" class="view">
        <!-- Buy price card -->
        <div class="buyCard">
          <div class="buyLeft">
            <div class="buyTitleRow">
              <span class="buyEmoji">ğŸ’°</span>
              <div class="buyTitle">Buy price</div>
            </div>

            <div class="buyCaptionRow">
              <img
                id="isabelleIcon"
                class="isabelleIcon"
                src="isabelle.png"
                alt=""
                onerror="this.onerror=null; this.src='isabelle.png.PNG';"
              />
              <div id="buySundayLabel" class="buyCaption">Jan 4</div>
            </div>
          </div>

          <input
            id="buy-price"
            class="buyInput"
            inputmode="numeric"
            placeholder="-"
          />
        </div>

        <!-- DAYS -->
        <section class="days">

          <div class="dayCard">
            <h2 class="dayTitle">Monday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="mon-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="mon-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Tuesday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="tue-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="tue-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Wednesday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="wed-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="wed-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Thursday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="thu-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="thu-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Friday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="fri-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="fri-pm" />
            </div>
          </div>

          <div class="dayCard">
            <h2 class="dayTitle">Saturday</h2>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ</span><span>AM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="sat-am" />
            </div>
            <div class="row">
              <div class="label"><span class="emoji">ğŸŒ™</span><span>PM</span></div>
              <input class="priceInput" inputmode="numeric" placeholder="-" id="sat-pm" />
            </div>
          </div>

          <!-- Save button now at bottom of days -->
          <button id="saveWeekBtn" class="primaryBtn">Save week to History</button>

          <div class="saveHint">
            Saves the week, clears Entry, and adds it to Insights.
          </div>

        </section>
      </section>

      <!-- INSIGHTS VIEW (Predict + History together) -->
      <section id="insightsView" class="view hidden">
        <div class="card">
          <h2 class="sectionTitle">Predictor</h2>

          <div class="postcard">
            <div class="postcardTop">
              <div class="postcardTitle">This weekâ€™s bell postcard</div>
              <div class="postcardKey">
                <div class="keyRow"><span class="keyIcon">ğŸŒ</span><span>AM</span></div>
                <div class="keyRow"><span class="keyIcon">ğŸŒ™</span><span>PM</span></div>
              </div>
            </div>

            <div class="chartShell">
              <canvas id="chartCanvas" width="320" height="160"></canvas>
            </div>

            <div class="postcardNote">
              Just a cozy snapshot. The more you log, the smarter it gets.
            </div>
          </div>

          <div class="statsList" id="statsList">
            <!-- filled by JS -->
          </div>
        </div>

        <div class="card">
          <h2 class="sectionTitle">History</h2>
          <p class="historyHint">Tap a week to expand. Use Load to edit an old week.</p>
          <div id="historyList" class="historyList"></div>
          <p class="historySmall" id="historyEmptyNote">
            No saved weeks yet. Fill the week, then hit Save week.
          </p>
        </div>
      </section>

      <!-- SETTINGS VIEW -->
      <section id="settingsView" class="view hidden">
        <div class="card">
          <h2 class="sectionTitle">Settings</h2>

          <div class="settingsRow">
            <button id="exportBtn" class="chipBtn">Export history</button>

            <label class="chipBtn fileBtn">
              Import history
              <input id="importFile" type="file" accept="application/json" />
            </label>
          </div>

          <div class="settingsRow">
            <button id="resetDraftBtn" class="chipBtn dangerBtn">Clear Entry draft</button>
          </div>

          <p class="historySmall">
            Export and Import lets you back up your weeks. Clear Entry draft only clears the current week you are typing.
          </p>
        </div>
      </section>

    </main>
  </div>

  <!-- BOTTOM NAV (Option D) -->
  <nav class="bottomNav">
    <button id="navEntry" class="navBtn active" type="button">
      <span class="navIcon">ğŸ§¾</span>
      <span class="navLabel">Entry</span>
    </button>

    <button id="navInsights" class="navBtn" type="button">
      <span class="navIcon">ğŸ”®</span>
      <span class="navLabel">Insights</span>
    </button>

    <button id="navSettings" class="navBtn" type="button">
      <span class="navIcon">âš™ï¸</span>
      <span class="navLabel">Settings</span>
    </button>
  </nav>

  <script src="app.js?v=30"></script>
</body>
</html>
