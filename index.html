<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Turnip Tracker</title>

  <!-- App icon + PWA -->
  <link rel="apple-touch-icon" href="icon-1024.png.PNG">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4f9c6d">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css?v=30" />
</head>

<body>
  <div class="app">

    <!-- HEADER -->
    <div class="header">
      <img
        src="banner.png.jpg"
        alt="Turnip Tracker"
        class="headerImage"
        onerror="this.style.display='none'; document.getElementById('headerFallback').style.display='block';"
      />

      <div
        id="headerFallback"
        style="display:none; font-size:22px; font-weight:700;"
      >
        Turnip Tracker
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <main id="mainView">

      <!-- ENTRY VIEW -->
      <section id="predictView" class="view">

        <!-- BUY PRICE -->
        <div class="buyCard">
          <div class="buyRow">
            <div class="buyLabel">
              ğŸ’° <strong>Buy price</strong>
              <div class="buyHint" id="buyDateText">Daisy Mae, Sunday</div>
            </div>
            <input
              id="buy-price"
              class="priceInput"
              inputmode="numeric"
              placeholder="-"
            />
          </div>
        </div>

        <!-- DAYS -->
        <section class="days">

          <!-- MONDAY -->
          <div class="dayCard">
            <h2 class="dayTitle">Monday</h2>
            <div class="row">
              <div class="label">ğŸŒ AM</div>
              <input class="priceInput" inputmode="numeric" id="mon-am" placeholder="-" />
            </div>
            <div class="row">
              <div class="label">ğŸŒ™ PM</div>
              <input class="priceInput" inputmode="numeric" id="mon-pm" placeholder="-" />
            </div>
          </div>

          <!-- TUESDAY -->
          <div class="dayCard">
            <h2 class="dayTitle">Tuesday</h2>
            <div class="row">
              <div class="label">ğŸŒ AM</div>
              <input class="priceInput" inputmode="numeric" id="tue-am" placeholder="-" />
            </div>
            <div class="row">
              <div class="label">ğŸŒ™ PM</div>
              <input class="priceInput" inputmode="numeric" id="tue-pm" placeholder="-" />
            </div>
          </div>

          <!-- WEDNESDAY -->
          <div class="dayCard">
            <h2 class="dayTitle">Wednesday</h2>
            <div class="row">
              <div class="label">ğŸŒ AM</div>
              <input class="priceInput" inputmode="numeric" id="wed-am" placeholder="-" />
            </div>
            <div class="row">
              <div class="label">ğŸŒ™ PM</div>
              <input class="priceInput" inputmode="numeric" id="wed-pm" placeholder="-" />
            </div>
          </div>

          <!-- THURSDAY -->
          <div class="dayCard">
            <h2 class="dayTitle">Thursday</h2>
            <div class="row">
              <div class="label">ğŸŒ AM</div>
              <input class="priceInput" inputmode="numeric" id="thu-am" placeholder="-" />
            </div>
            <div class="row">
              <div class="label">ğŸŒ™ PM</div>
              <input class="priceInput" inputmode="numeric" id="thu-pm" placeholder="-" />
            </div>
          </div>

          <!-- FRIDAY -->
          <div class="dayCard">
            <h2 class="dayTitle">Friday</h2>
            <div class="row">
              <div class="label">ğŸŒ AM</div>
              <input class="priceInput" inputmode="numeric" id="fri-am" placeholder="-" />
            </div>
            <div class="row">
              <div class="label">ğŸŒ™ PM</div>
              <input class="priceInput" inputmode="numeric" id="fri-pm" placeholder="-" />
            </div>
          </div>

          <!-- SATURDAY -->
          <div class="dayCard">
            <h2 class="dayTitle">Saturday</h2>
            <div class="row">
              <div class="label">ğŸŒ AM</div>
              <input class="priceInput" inputmode="numeric" id="sat-am" placeholder="-" />
            </div>
            <div class="row">
              <div class="label">ğŸŒ™ PM</div>
              <input class="priceInput" inputmode="numeric" id="sat-pm" placeholder="-" />
            </div>
          </div>

        </section>

        <!-- SAVE BUTTON -->
        <div class="saveWrap">
          <button id="saveWeekBtn" class="primaryBtn">
            Save week to History
          </button>
          <div class="saveHint">
            This saves the week and clears your Entry screen.
          </div>
        </div>

      </section>

      <!-- HISTORY VIEW -->
      <section id="historyView" class="view hidden">
        <div class="historyWrap">
          <div class="historyCard">
            <h2>Past weeks</h2>
            <div id="historyList"></div>
            <p id="historyEmptyNote">
              No saved weeks yet.
            </p>
          </div>

          <div class="historyActions">
            <button id="exportBtn" class="chipBtn">Export</button>
            <label class="chipBtn fileBtn">
              Import
              <input id="importFile" type="file" accept="application/json" />
            </label>
            <button id="goHomeBtn" class="chipBtn">Home</button>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- BOTTOM NAV -->
  <nav class="bottomNav">
    <button id="navPredict" class="navBtn active">
      <span class="navIcon">ğŸ§¾</span>
      <span class="navLabel">Entry</span>
    </button>
    <button id="navHistory" class="navBtn">
      <span class="navIcon">ğŸ”®</span>
      <span class="navLabel">Predict</span>
    </button>
    <button id="navStats" class="navBtn">
      <span class="navIcon">ğŸ•°ï¸</span>
      <span class="navLabel">History</span>
    </button>
  </nav>

  <!-- JS -->
  <script src="app.js?v=30"></script>

  <!-- Buy date helper -->
  <script>
    (function () {
      const el = document.getElementById("buyDateText");
      if (!el) return;

      const now = new Date();
      const sunday = new Date(now);
      sunday.setDate(now.getDate() - now.getDay());

      el.textContent =
        "Daisy Mae, Sunday " +
        sunday.toLocaleDateString(undefined, {
          month: "short",
          day: "numeric"
        });
    })();
  </script>
</body>
</html>
