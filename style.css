:root{
  --bg1: #e7f0fb;
  --bg2: #cfe0f4;
  --card: rgba(255,255,255,0.45);
  --card2: rgba(255,255,255,0.58);
  --stroke: rgba(255,255,255,0.55);
  --shadow: 0 20px 50px rgba(40,70,120,0.14);
  --shadowSoft: 0 12px 30px rgba(40,70,120,0.12);
  --text: #111;
  --muted: rgba(0,0,0,0.50);
  --muted2: rgba(0,0,0,0.35);
  --green: #3f7a55;
  --turnipAlpha: 0.35;

  --navH: 78px;
  --safeB: env(safe-area-inset-bottom, 0px);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: linear-gradient(180deg, var(--bg1), var(--bg2));
}

.app{
  min-height: 100%;
  position: relative;
}

.hero{
  padding: 14px 14px 6px 14px;
}

.heroBanner{
  width: 100%;
  max-width: 820px;
  display:block;
  margin: 0 auto;
  border-radius: 32px;
  box-shadow: var(--shadow);
  border: 2px solid rgba(255,255,255,0.55);
}

.content{
  padding: 10px 14px calc(var(--navH) + var(--safeB) + 22px) 14px;
  max-width: 820px;
  margin: 0 auto;
}

.screen{ display:none; }
.screen.is-active{ display:block; }

.titleCard{
  border-radius: 28px;
  background: var(--card);
  border: 2px solid var(--stroke);
  box-shadow: var(--shadowSoft);
  padding: 18px 18px;
  margin: 12px 0 14px 0;
}

.title{
  margin:0;
  font-size: 54px;
  letter-spacing: -0.02em;
}

.card{
  border-radius: 30px;
  background: var(--card);
  border: 2px solid var(--stroke);
  box-shadow: var(--shadowSoft);
  padding: 18px;
  margin: 14px 0;
  position: relative;
  overflow: hidden;
}

.card::before{
  content:"";
  position:absolute;
  inset:0;
  background-image: url("isabelle.png.PNG");
  background-repeat: no-repeat;
  background-size: 520px auto;
  background-position: 50% 40%;
  opacity: var(--turnipAlpha);
  pointer-events:none;
  filter: blur(0px);
}

.card > *{ position: relative; z-index: 1; }

.buyCard{
  display:flex;
  gap: 14px;
  align-items:center;
}

.buyLeft{
  min-width: 160px;
}

.buyTitleRow{
  display:flex;
  align-items:center;
  gap: 10px;
}

.emoji{
  font-size: 22px;
  line-height: 1;
}

.buyTitle{
  font-weight: 800;
  font-size: 24px;
  letter-spacing: -0.01em;
}

.buyDate{
  margin-top: 8px;
  color: var(--muted);
  font-weight: 700;
  font-size: 18px;
}

.buyRight{
  flex:1;
  display:flex;
  justify-content:flex-end;
}

.input{
  border-radius: 16px;
  border: 2px solid rgba(255,255,255,0.65);
  background: rgba(255,255,255,0.55);
  box-shadow: inset 0 1px 0 rgba(0,0,0,0.06);
  padding: 12px 14px;
  outline: none;
  font-size: 18px;
  width: 100%;
}

.bigInput{
  max-width: 320px;
  font-weight: 800;
  font-size: 22px;
  text-align: right;
}

.daysWrap{ display:block; }

.dayCard{
  padding: 18px;
}

.dayTitle{
  font-size: 44px;
  font-weight: 900;
  margin: 0 0 10px 0;
  letter-spacing: -0.02em;
}

.timeRow{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 14px;
  padding: 10px 0;
}

.timeLeft{
  display:flex;
  align-items:center;
  gap: 12px;
  min-width: 120px;
}

.timeIcon{
  font-size: 24px;
}

.timeLabel{
  font-size: 22px;
  font-weight: 800;
  color: var(--muted);
  letter-spacing: -0.01em;
}

.timeInput{
  max-width: 280px;
  text-align:right;
}

.divider{
  height: 1px;
  background: rgba(0,0,0,0.10);
  margin: 10px 0;
}

.bottomActions{
  margin-top: 16px;
}

.btnPrimary{
  width: 100%;
  border: 0;
  border-radius: 22px;
  padding: 16px 18px;
  font-size: 22px;
  font-weight: 900;
  color: #fff;
  background: var(--green);
  box-shadow: 0 16px 30px rgba(32,70,50,0.18);
}

.btnPrimary:active{ transform: scale(0.99); }

.insightsCard .insightsHead{
  display:flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.insightsTitle{
  font-size: 26px;
  font-weight: 900;
}

.legend{
  display:flex;
  flex-direction: column;
  gap: 8px;
  color: var(--muted);
  font-weight: 900;
}

.legendRow{
  display:flex;
  align-items:center;
  gap: 10px;
  justify-content:flex-end;
}

.legendIcon{ font-size: 24px; }

.legendText{
  font-size: 22px;
  letter-spacing: -0.01em;
}

.chartCard{
  margin-top: 12px;
  border-radius: 22px;
  background: rgba(255,255,255,0.52);
  border: 2px solid rgba(255,255,255,0.60);
  padding: 14px 14px 12px 14px;
  overflow:hidden;
  position: relative;
}

.chartCard::before{
  content:"";
  position:absolute;
  inset:0;
  background-image: url("ac-chart.png.PNG");
  background-size: cover;
  background-position: center;
  opacity: calc(var(--turnipAlpha) * 0.65);
  pointer-events:none;
}

.chartGrid{
  position: relative;
  z-index: 1;
  display:grid;
  grid-template-columns: 48px 1fr;
  grid-auto-rows: auto;
  row-gap: 14px;
  column-gap: 10px;
  align-items:center;
}

.chartRowLabel{
  font-weight: 900;
  color: var(--muted);
  font-size: 18px;
  text-align:left;
}

.chartRow{
  position: relative;
  display:grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
  align-items:center;
  padding: 6px 6px;
}

.chartRow::after{
  content:"";
  position:absolute;
  left: 6px;
  right: 6px;
  top: 50%;
  height: 4px;
  background: rgba(0,0,0,0.22);
  border-radius: 999px;
  transform: translateY(-50%);
}

.dot{
  width: 20px;
  height: 20px;
  border-radius: 999px;
  background: rgba(0,0,0,0.25);
  z-index: 2;
  justify-self:center;
}

.dot.is-on{
  background: rgba(0,0,0,0.70);
}

.chartDayRow{
  grid-column: 1 / span 2;
  display:grid;
  grid-template-columns: 48px repeat(6, 1fr);
  gap: 10px;
  align-items:center;
  margin-top: -4px;
  color: var(--muted);
  font-weight: 900;
}

.chartDayRow .spacer{ height: 1px; }
.dayLabel{
  text-align:center;
  font-size: 18px;
}

.insightsBlurb{
  margin-top: 12px;
  color: var(--muted);
  font-weight: 800;
  font-size: 18px;
}

.statsCard::before{ opacity: 0; }

.statRow{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 14px;
  padding: 10px 0;
}

.statLabel{
  font-weight: 900;
  color: var(--muted);
  font-size: 22px;
}

.statValue{
  font-weight: 900;
  font-size: 22px;
}

.historyCard::before{ opacity: 0; }

.historyHead{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 12px;
  margin-bottom: 10px;
}

.historyTitle{
  font-size: 26px;
  font-weight: 900;
}

.historyList{
  display:flex;
  flex-direction: column;
  gap: 10px;
}

.historyItem{
  border-radius: 18px;
  border: 2px solid rgba(255,255,255,0.55);
  background: rgba(255,255,255,0.45);
  padding: 12px 12px;
  display:flex;
  justify-content: space-between;
  gap: 12px;
  align-items:flex-start;
}

.hLeft{
  display:flex;
  flex-direction: column;
  gap: 4px;
}

.hRange{
  font-weight: 900;
  color: rgba(0,0,0,0.72);
}

.hMeta{
  color: var(--muted2);
  font-weight: 800;
  font-size: 14px;
}

.hRight{
  font-weight: 900;
  color: rgba(0,0,0,0.70);
}

.btnGhost{
  border: 2px solid rgba(255,255,255,0.60);
  background: rgba(255,255,255,0.45);
  border-radius: 16px;
  padding: 10px 14px;
  font-weight: 900;
  color: #1b66c9;
}

.settingsCard::before{ opacity: 0; }

.settingRow{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 12px;
}

.settingTitle{
  font-weight: 900;
  font-size: 22px;
}

.settingSub{
  margin-top: 6px;
  color: var(--muted);
  font-weight: 800;
  font-size: 16px;
}

.settingRight input[type="range"]{
  width: 190px;
}

.settingsButtons{
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 14px;
}

.btnSoft{
  border: 2px solid rgba(255,255,255,0.60);
  background: rgba(255,255,255,0.45);
  border-radius: 16px;
  padding: 12px 16px;
  font-weight: 900;
  color: #1b66c9;
  min-width: 120px;
  text-align:center;
}

.btnSoft.danger{
  color: #b04545;
  border-color: rgba(255,215,215,0.8);
}

.fileBtn{
  cursor:pointer;
}

.fileBtn input{
  display:none;
}

.bottomNav{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 10px 12px calc(10px + var(--safeB)) 12px;
  background: rgba(255,255,255,0.60);
  backdrop-filter: blur(14px);
  border-top: 1px solid rgba(255,255,255,0.70);
  box-shadow: 0 -16px 30px rgba(40,70,120,0.10);
  display:flex;
  justify-content: center;
  gap: 14px;
  z-index: 50;
}

.navItem{
  flex: 1;
  max-width: 260px;
  border-radius: 22px;
  border: 2px solid rgba(255,255,255,0.55);
  background: rgba(255,255,255,0.40);
  padding: 12px 10px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  color: rgba(0,0,0,0.70);
  font-weight: 900;
}

.navItem .navIcon{ font-size: 22px; }
.navItem .navText{ font-size: 18px; }

.navItem.is-active{
  border-color: rgba(76,130,98,0.65);
  color: var(--green);
  box-shadow: 0 10px 20px rgba(40,70,120,0.10);
}

@media (max-width: 430px){
  .title{ font-size: 50px; }
  .dayTitle{ font-size: 40px; }
  .bigInput{ font-size: 20px; }
  .navItem .navText{ font-size: 16px; }
}
