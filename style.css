:root{
  --bg1:#d7e2f0;
  --bg2:#c9d7ea;

  --card:#eaf1fb;
  --card2:#e6eef9;

  --tan:#c7a07b;
  --tan2:#d6b18d;

  --ink:#161616;
  --muted:#5a5a5a;

  --green:#1E7A5A;
  --green2:#2a8a66;

  --stroke:rgba(0,0,0,.08);

  --radius:26px;

  --navH:92px;

  /* sizing */
  --h1:44px;
  --dayTitle:44px;
  --label:18px;
  --sub:16px;
  --input:18px;

  --cardPad:16px;
  --gap:14px;
}

/* Compact mode toggled in Settings */
body.compact{
  --h1:40px;
  --dayTitle:40px;
  --label:17px;
  --sub:15px;
  --input:17px;
  --cardPad:14px;
  --gap:12px;
}

*{ box-sizing:border-box; }

html, body{
  height:100%;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink);
  background: linear-gradient(180deg, var(--bg1), var(--bg2));
}

/* app container */
.app{
  min-height:100%;
  padding-bottom: calc(var(--navH) + env(safe-area-inset-bottom, 0px));
}

/* header */
.top{
  padding: 14px 14px 6px;
}

.bannerCard{
  background: rgba(255,255,255,.35);
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  border: 1px solid rgba(255,255,255,.45);
}

.bannerImg{
  width:100%;
  display:block;
  border-radius: 18px;
}

/* pages */
.main{
  padding: 10px 14px 0;
}

.page{
  display:none;
}

.page-active{
  display:block;
}

/* general card */
.card{
  background: rgba(255,255,255,.45);
  border: 1px solid rgba(255,255,255,.55);
  border-radius: var(--radius);
  padding: var(--cardPad);
  box-shadow: 0 10px 30px rgba(0,0,0,.06);
  margin-bottom: var(--gap);
}

/* buy card */
.buyCard{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.buyLeft{
  min-width: 0;
}

.buyTitleRow{
  display:flex;
  align-items:center;
  gap:10px;
}

.buyIcon{
  font-size: 20px;
  line-height: 1;
}

.buyTitle{
  font-weight: 900;
  font-size: 22px;
}

.buySubRow{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top: 6px;
}

.isabelle{
  width: 26px;
  height: 26px;
  border-radius: 999px;
  object-fit: cover;
  border: 1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.55);
}

.buySub{
  font-size: var(--sub);
  font-weight: 700;
  color: var(--muted);
}

.buyRight{
  display:flex;
  align-items:center;
}

.pillInput{
  width: 110px;
  max-width: 38vw;
  height: 46px;
  border-radius: 18px;
  border: 2px solid rgba(255,255,255,.65);
  background: rgba(255,255,255,.55);
  font-size: var(--input);
  font-weight: 800;
  padding: 0 14px;
  text-align:center;
  outline: none;
}

.pillInput:focus{
  border-color: rgba(30,122,90,.45);
  box-shadow: 0 0 0 4px rgba(30,122,90,.12);
}

/* day cards */
.days{
  display:flex;
  flex-direction:column;
  gap: var(--gap);
}

.dayCard{
  background: linear-gradient(180deg, rgba(199,160,123,.92), rgba(214,177,141,.92));
  border-radius: 30px;
  padding: 18px;
  border: 1px solid rgba(255,255,255,.3);
  box-shadow: 0 14px 30px rgba(0,0,0,.08);
}

.dayTitle{
  font-size: var(--dayTitle);
  font-weight: 950;
  letter-spacing: -0.5px;
  margin: 0 0 12px;
}

.slot{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 14px;
  border-radius: 22px;
  background: rgba(255,255,255,.18);
  margin-bottom: 12px;
}

.slot:last-child{
  margin-bottom: 0;
}

.slotLeft{
  display:flex;
  align-items:center;
  gap: 10px;
  font-size: var(--label);
  font-weight: 900;
}

.slotEmoji{
  font-size: 22px;
}

.slotInput{
  width: 116px;
  max-width: 40vw;
  height: 44px;
  border-radius: 18px;
  border: 2px solid rgba(255,255,255,.65);
  background: rgba(255,255,255,.55);
  font-size: var(--input);
  font-weight: 800;
  padding: 0 14px;
  text-align:center;
  outline:none;
}

/* save card */
.saveCard{
  padding: 16px;
}

.saveBtn{
  width:100%;
  height: 54px;
  border-radius: 22px;
  border: none;
  background: linear-gradient(180deg, var(--green), var(--green2));
  color: white;
  font-size: 18px;
  font-weight: 900;
  letter-spacing: .2px;
  box-shadow: 0 12px 22px rgba(30,122,90,.25);
}

.saveBtn:active{
  transform: translateY(1px);
}

.saveHint{
  margin-top: 10px;
  color: rgba(0,0,0,.55);
  font-weight: 700;
  font-size: 14px;
}

/* section title */
.sectionTitleText{
  font-size: var(--h1);
  font-weight: 950;
  letter-spacing: -0.7px;
}

/* chart card */
.chartCard{
  padding: 16px;
}

.chartHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.chartTitle{
  font-size: 24px;
  font-weight: 950;
  letter-spacing: -0.3px;
}

.chartKey{
  display:flex;
  flex-direction:column;
  gap: 6px;
  align-items:flex-end;
  font-weight: 900;
  color: rgba(0,0,0,.7);
}

.keyRow{
  display:flex;
  align-items:center;
  gap: 8px;
}

.keyIcon{
  font-size: 18px;
  line-height: 1;
}

.keyText{
  font-size: 14px;
}

/* postcard */
.postcard{
  border-radius: 26px;
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(0,0,0,.06);
  overflow:hidden;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.45);
}

/* SVG styling */
#postcardSvg{
  width: 100%;
  display:block;
  background-image: url("ac-chart.png.PNG");
  background-size: 190px auto;
  background-repeat: no-repeat;
  background-position: center 45%;
  background-blend-mode: multiply;
}

.grid line{
  stroke: rgba(0,0,0,.08);
  stroke-width: 1;
}

.baseline{
  stroke: rgba(0,0,0,.35);
  stroke-width: 3;
  stroke-linecap: round;
}

.line{
  stroke: rgba(0,0,0,.65);
  stroke-width: 3;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.dot{
  fill: rgba(0,0,0,.65);
}

.labels text{
  fill: rgba(0,0,0,.55);
  font-size: 15px; /* bigger day labels */
  font-weight: 900;
  text-anchor: middle;
}

.chartCaption{
  margin-top: 10px;
  font-size: 16px;
  font-weight: 900;
  color: rgba(0,0,0,.55);
}

/* metrics */
.metricsCard{
  padding: 10px 16px;
}

.metricRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 12px 0;
  border-bottom: 1px solid rgba(0,0,0,.08);
  font-weight: 800;
}

.metricRow:last-child{
  border-bottom:none;
}

.metricRow span{
  color: rgba(0,0,0,.6);
  font-weight: 900;
}

.metricRow strong{
  font-weight: 950;
}

/* history */
.historyCard{
  padding: 14px 16px 12px;
}

.historyHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom: 10px;
}

.historyTitle{
  font-size: 22px;
  font-weight: 950;
}

.historyList{
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.historyItem{
  border-radius: 18px;
  padding: 12px 12px;
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(0,0,0,.06);
}

.historyTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-weight: 950;
  margin-bottom: 6px;
}

.historyMeta{
  color: rgba(0,0,0,.55);
  font-weight: 800;
  font-size: 14px;
}

/* settings */
.settingsCard{
  padding: 16px;
}

.settingRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.settingTitle{
  font-weight: 950;
  font-size: 18px;
}

.settingSub{
  margin-top: 3px;
  font-weight: 800;
  font-size: 14px;
  color: rgba(0,0,0,.55);
}

.divider{
  height: 1px;
  background: rgba(0,0,0,.08);
  margin: 14px 0;
}

.tinyBtn{
  border: none;
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 950;
  background: rgba(30,122,90,.16);
  color: var(--green);
}

/* switch */
.switch{
  position: relative;
  display:inline-block;
  width: 52px;
  height: 30px;
}

.switch input{ display:none; }

.slider{
  position:absolute;
  cursor:pointer;
  inset:0;
  background: rgba(0,0,0,.12);
  border-radius: 999px;
  transition: .2s;
}

.slider:before{
  content:"";
  position:absolute;
  height: 24px;
  width: 24px;
  left: 3px;
  top: 3px;
  background: white;
  border-radius: 999px;
  transition: .2s;
  box-shadow: 0 6px 14px rgba(0,0,0,.18);
}

.switch input:checked + .slider{
  background: rgba(30,122,90,.35);
}

.switch input:checked + .slider:before{
  transform: translateX(22px);
}

/* bottom nav */
.bottomNav{
  position: fixed;
  left: 14px;
  right: 14px;
  bottom: calc(10px + env(safe-area-inset-bottom, 0px));
  height: var(--navH);
  border-radius: 30px;
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(255,255,255,.65);
  box-shadow: 0 18px 40px rgba(0,0,0,.14);
  display:flex;
  gap: 10px;
  padding: 10px;
  backdrop-filter: blur(10px);
}

.navBtn{
  flex:1;
  border: none;
  background: rgba(255,255,255,.35);
  border-radius: 22px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 6px;
  font-weight: 950;
  color: rgba(0,0,0,.65);
}

.navIcon{
  font-size: 22px;
  line-height: 1;
}

.navLabel{
  font-size: 16px;
  font-weight: 950;
  color: var(--green);
}

.navActive{
  outline: 2px solid rgba(30,122,90,.28);
  background: rgba(255,255,255,.55);
}

/* spacer under content so nav never covers */
.bottomSpacer{
  height: calc(var(--navH) + 26px + env(safe-area-inset-bottom, 0px));
}
